2016-12-01
添加注释：
alter table exercise_study_record_item MODIFY COLUMN `IS_CORRECT` int comment '0：错误 1：正确 2：没做';


alter table exercise_item add column EXERCISE_RANK int comment '题目级别：识记、理解与应用两个级别，其中0-识记，1-理解与应用';

alter table exercise_item change `EXERCISE_RANK` `EXERCISE_RANK`  int after ANSWER;

update exercise_item set EXERCISE_RANK = '0';


小练习新题型：

insert into exercise values('s20','听音判断',20,'exercisesentence20','sentence','读|听','SentenceExercise20',120);

UPDATE `hhbdev3`.`exercise` SET `NAME`='听句排序（文）' WHERE `ID`='s07';

UPDATE `hhbdev3`.`exercise` SET `NAME`='听句排序（图）' WHERE `ID`='s16';



线上更新：

desc course;

alter table course add column CREATE_TIME DATETIME ;
alter table course add column LAST_MODIFIED_TIME DATETIME ;
alter table course add column CREATE_USER VARCHAR (32) ;
alter table course add column LAST_MODIFIED_USER VARCHAR (32);

alter table course change `CREATE_TIME` `CREATE_TIME`  DATETIME after UNITIDS;

desc course_type;

alter table course_type add column CREATE_TIME DATETIME ;
alter table course_type add column LAST_MODIFIED_TIME DATETIME ;
alter table course_type add column CREATE_USER VARCHAR (32) ;
alter table course_type add column LAST_MODIFIED_USER VARCHAR (32);

desc course_textbook;

alter table course_textbook add column CREATE_TIME DATETIME ;
alter table course_textbook add column LAST_MODIFIED_TIME DATETIME ;
alter table course_textbook add column CREATE_USER VARCHAR (32) ;
alter table course_textbook add column LAST_MODIFIED_USER VARCHAR (32);


desc course_textbook_menu;

alter table course_textbook_menu add column CREATE_TIME DATETIME ;
alter table course_textbook_menu add column LAST_MODIFIED_TIME DATETIME ;
alter table course_textbook_menu add column CREATE_USER VARCHAR (32) ;
alter table course_textbook_menu add column LAST_MODIFIED_USER VARCHAR (32);


desc course_textbook_block;

alter table course_textbook_block add column CREATE_TIME DATETIME ;
alter table course_textbook_block add column LAST_MODIFIED_TIME DATETIME ;
alter table course_textbook_block add column CREATE_USER VARCHAR (32) ;
alter table course_textbook_block add column LAST_MODIFIED_USER VARCHAR (32);




desc unit_word;

alter table unit_word add column CREATE_TIME DATETIME ;
alter table unit_word add column LAST_MODIFIED_TIME DATETIME ;
alter table unit_word add column CREATE_USER VARCHAR (32) ;
alter table unit_word add column LAST_MODIFIED_USER VARCHAR (32);

desc word_dictionary;

alter table word_dictionary add column CREATE_TIME DATETIME ;
alter table word_dictionary add column LAST_MODIFIED_TIME DATETIME ;
alter table word_dictionary add column CREATE_USER VARCHAR (32) ;
alter table word_dictionary add column LAST_MODIFIED_USER VARCHAR (32);


添加索引：
create INDEX INDEX_COURSE_LAST_MODIFIED_TIME on course(LAST_MODIFIED_TIME); 

create INDEX INDEX_COURSE_TYPE_LAST_MODIFIED_TIME on course_type(LAST_MODIFIED_TIME);

create INDEX INDEX_COURSE_TEXTBOOK_LAST_MODIFIED_TIME on `course_textbook` (LAST_MODIFIED_TIME);

create INDEX INDEX_TEXTBOOK_MENU_LAST_MODIFIED_TIME on `course_textbook_menu` (LAST_MODIFIED_TIME);

create index INDEX_TEXTBOOK_BLOCK_LAST_MODIFIED_TIME on `course_textbook_block` (LAST_MODIFIED_TIME);

create index INDEX_UNIT_WORD_LAST_MODIFIED_TIME on `unit_word` (LAST_MODIFIED_TIME);

create index INDEX_WORD_DICTIONARY_LAST_MODIFIED_TIME on `word_dictionary` (LAST_MODIFIED_TIME);




create INDEX INDEX_COURSE_CREATE_TIME on course(CREATE_TIME); 

create INDEX INDEX_COURSE_TYPE_CREATE_TIME on course_type(CREATE_TIME);

create INDEX INDEX_COURSE_TEXTBOOK_CREATE_TIME on `course_textbook` (CREATE_TIME);

create INDEX INDEX_TEXTBOOK_MENU_CREATE_TIME on `course_textbook_menu` (CREATE_TIME);

create index INDEX_TEXTBOOK_BLOCK_CREATE_TIME on `course_textbook_block` (CREATE_TIME);

create index INDEX_UNIT_WORD_CREATE_TIME on `unit_word` (CREATE_TIME);

create index INDEX_WORD_DICTIONARY_CREATE_TIME on `word_dictionary` (CREATE_TIME);

show index from course;
show index from course_type;
show index from course_textbook;
show index from course_textbook_menu;
show index from course_textbook_block;
show index from unit_word;
show index from word_dictionary;



添加课本高度宽度：
alter table course add column COURSE_PAGE_WIDTH int;

alter table course change COURSE_PAGE_WIDTH COURSE_PAGE_WIDTH int after type_id;



alter table course add column COURSE_PAGE_HEIGHT int;

alter table course change COURSE_PAGE_HEIGHT COURSE_PAGE_HEIGHT int after COURSE_PAGE_WIDTH;


添加单元名称字段
alter table course_textbook_menu add column chapter_heading varchar(256);


alter table course_textbook_menu change chapter_heading chapter_heading varchar(256) after chapter_name;